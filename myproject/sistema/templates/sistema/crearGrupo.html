{% extends 'sistema/base_site.html'%}
{% load static %}
{% block titulo%}
    Crear Grupo
{% endblock titulo%}
{% block body%}
    <form method="POST">
    {% csrf_token %}
    <div class="col-lg-11">
     
                        <div class="card">
                            <div class="card-header">
                                <strong>Planilla de Registro de </strong> Grupos
                            </div>
                            <form method="POST" class="form-horizontal">
                                    
                                <div class="row form-group">
                                    <div class="col-md-3"><label for="text-input">Nombre del Grupo (*)</label></div>
                                    <div class="col-md-5">{{grupo_form.nombre}}</div>
                                </div>
                                
                                <div class="row form-group">
                                    <div class="col-md-3"><label for="text-input">Sexo(*)</label></div>
                                    <div class="col-md-5">
                                        <select id="sexo" class="form-control" name="sexo">
                                            <option value="null"> ------------</option>
                                            <option value='Femenino'>Femenino</option>
                                            <option value='Masculino'>Masculino</option>
                                            <option value='Ambos'>Ambos</option>
                                        </select>
                                    </div>
                                </div>

                                <br>
                                    <div class="col-md-4"><strong>EDAD</strong></div>
                                <br>
                                <div class="row form-group">
                                    <div class="col-md-3"><label id="edad-desde" for="text-input">Desde (*)</label></div>
                                    <div class="col-md-3">{{grupo_form.desde}}</div>
                                    <div class="col-md-1"><label id="edad-hasta" for="text-input">Hasta(*)</label></div>
                                    <div class="col-md-3">{{grupo_form.hasta}}</div>
                                </div>

                                <br>
                                    <div class="col-md-5"><strong>MIEMBROS</strong></div>
                                <br>

                                <div class="row form-group">
                                    <div class="col-md-3"><label for="text-input"></label></div>
                                    <div class="col-md-4">
                                    <select required id="select-miembro" class="js-example-basic-multiple" name="miembro" multiple="multiple">
                                        
                                    </select>
                                    </div>
                                    
                                </div>
                                <p> * mantenga apretado la tecla ctrl y presione los miembros que desee agregar/quitar</p>
                                <div class="card">
                                    <div class="card-body">
                                        <button type="submit" class="btn btn-success btn-sm">Confirmar</button>
                                    </div>
                                </div>
                            </form>
                        </div>
    </div>
        
    </form>
<script src="{%static 'assets/js/select2.min.js'%}"></script>
<script src="{%static 'assets/js/jquery.multi-select.js'%}"></script>

<link href="https://cdn.jsdelivr.net/npm/select2@4.0.12/dist/css/select2.min.css" rel="stylesheet" />
<script src="https://cdn.jsdelivr.net/npm/select2@4.0.12/dist/js/select2.min.js"></script>


<script src="http://code.jquery.com/jquery-latest.js"></script>
{% comment %} <script src="{%static 'assets/js/grupo.js'%}"></script> {% endcomment %}
<script>
$('#sexo').change(function() {
    var sx = $(this).val();
    console.log(sx);
    $.ajax({
        url: '/sistema/sexoList',
        data: {
            'mb': sx,
        },
        dataType: 'json',
        success: function(data) {
            var html = "";
            console.log('wenas y wenardas');
            console.log(data.length);
            $('#select-miembro').html("");
            for (var i = 0; i < data.length; i++) {
                html += "<option value=" + data[i].dni + ">" + data[i].apellido +", "+data[i].nombre + "</option>";
            }
            $('#select-miembro').append(html);
        }
    })
});
</script>
<script>
$(document).ready(function() {
    $('.js-example-basic-multiple').select2();
});
</script>
{% endblock body%}

